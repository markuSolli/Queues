var gn=Object.defineProperty,wn=Object.defineProperties;var kn=Object.getOwnPropertyDescriptors;var jt=Object.getOwnPropertySymbols;var bn=Object.prototype.hasOwnProperty,$n=Object.prototype.propertyIsEnumerable;var Wt=(e,a,n)=>a in e?gn(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,ge=(e,a)=>{for(var n in a||(a={}))bn.call(a,n)&&Wt(e,n,a[n]);if(jt)for(var n of jt(a))$n.call(a,n)&&Wt(e,n,a[n]);return e},Ve=(e,a)=>wn(e,kn(a));import{openBlock as m,createElementBlock as b,createElementVNode as T,unref as o,defineComponent as Ae,ref as F,useSlots as it,computed as P,renderSlot as V,createCommentVNode as c,normalizeClass as J,withKeys as z,createBlock as W,withModifiers as St,inject as Qe,toRef as dt,onMounted as Ue,watch as xe,nextTick as Mt,normalizeStyle as lt,toDisplayString as ae,Fragment as Z,renderList as le,createTextVNode as Se,createVNode as Me,Transition as Be,withCtx as q,onBeforeUpdate as Dn,createSlots as re,mergeProps as we,normalizeProps as Ke,guardReactiveProps as je,reactive as Sn,onUnmounted as Lt,resolveDynamicComponent as Ct,getCurrentScope as Mn,onScopeDispose as Cn,provide as ct,isRef as Gt,Teleport as _n}from"vue";import{getMonth as x,getYear as ee,getHours as me,getMinutes as pe,getSeconds as Pe,isEqual as An,setHours as zt,setMinutes as qt,setSeconds as Jt,setMilliseconds as _t,isBefore as Xt,setMonth as mt,setYear as pt,isValid as vt,format as Zt,set as ke,isDate as Pn,isAfter as Qt,parse as Tn,startOfWeek as xt,endOfWeek as On,addMonths as et,add as en,sub as In,addDays as ot,subMonths as ft,addYears as Vn,subYears as Bn,getDay as Nn,getISOWeek as Rn,differenceInCalendarDays as Fn}from"date-fns";var We=(e,a)=>{const n=e.__vccOpts||e;for(const[t,i]of a)n[t]=i;return n};const Yn={},En={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Hn=T("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),Un=T("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),Kn=T("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),jn=T("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1),Wn=[Hn,Un,Kn,jn];function Ln(e,a){return m(),b("svg",En,Wn)}var st=We(Yn,[["render",Ln]]);const Gn={},zn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},qn=T("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),Jn=T("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),Xn=[qn,Jn];function Zn(e,a){return m(),b("svg",zn,Xn)}var Qn=We(Gn,[["render",Zn]]);const xn={},ea={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},ta=T("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),na=[ta];function aa(e,a){return m(),b("svg",ea,na)}var tn=We(xn,[["render",aa]]);const la={},oa={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},sa=T("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1),ra=[sa];function ua(e,a){return m(),b("svg",oa,ra)}var nn=We(la,[["render",ua]]);const ia={},da={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},ca=T("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),ma=T("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),pa=[ca,ma];function va(e,a){return m(),b("svg",da,pa)}var yt=We(ia,[["render",va]]);const fa={},ya={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},ha=T("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),ga=[ha];function wa(e,a){return m(),b("svg",ya,ga)}var At=We(fa,[["render",wa]]);const ka={},ba={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},$a=T("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),Da=[$a];function Sa(e,a){return m(),b("svg",ba,Da)}var Pt=We(ka,[["render",Sa]]);const Tt=(e,a)=>{const n=Tn(e,a.slice(0,e.length),new Date);return vt(n)&&Pn(n)?n:null},Ne=e=>{let a=new Date(JSON.parse(JSON.stringify(e)));return a=zt(a,0),a=qt(a,0),a=Jt(a,0),a=_t(a,0),a},Ot=e=>Array.isArray(e)?vt(e[0])&&(e[1]?vt(e[1]):!0):e?vt(e):!1,ue=(e,a,n,t)=>{let i=e?new Date(e):new Date;return(a||a===0)&&(i=zt(i,+a)),(n||n===0)&&(i=qt(i,+n)),(t||t===0)&&(i=Jt(i,+t)),_t(i,0)},Ma=e=>{const a=et(e,1);return{month:x(a),year:ee(a)}},Re=(e,a,n)=>{let t=e?new Date(e):new Date;return(a||a===0)&&(t=mt(t,a)),n&&(t=pt(t,n)),t},an=(e,a)=>e?`HH:mm${a?":ss":""}`:`hh:mm${a?":ss":""} aa`,ln=(e,a,n,t,i,g,f)=>e||(t?"MM/yyyy":i?an(a,n):g?"MM/dd/yyyy":f?`MM/dd/yyyy, ${an(a,n)}`:"MM/dd/yyyy"),It=e=>{const a=e||new Date;return{hours:me(a),minutes:pe(a),seconds:Pe(a)}},ht=e=>({month:x(e),year:ee(e)}),on=e=>Array.isArray(e)?[ht(e[0]),e[1]?ht(e[1]):null]:ht(e),Vt=e=>Array.isArray(e)?[It(e[0]),It(e[1])]:It(e),Bt=(e,a,n)=>n?Zt(e,a,{locale:n}):Zt(e,a),gt=(e,a,n,t)=>Array.isArray(e)?`${Bt(e[0],a,n)} ${t||"-"} ${e[1]?Bt(e[1],a,n):""}`:Bt(e,a,n),de=(e,a)=>!e||!a?!1:Qt(Ne(e),Ne(a)),oe=(e,a)=>!e||!a?!1:Xt(Ne(e),Ne(a)),Q=(e,a)=>!e||!a?!1:An(Ne(e),Ne(a)),Nt=(e,a)=>en(ke(new Date,e),a),Rt=(e,a)=>In(ke(new Date,e),a),Ft=e=>ke(new Date,{hours:me(e),minutes:pe(e),seconds:Pe(e)}),sn=e=>ke(new Date,{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),Yt=(e,a,n)=>{let t=!0;if(!e)return!0;const i=Array.isArray(e)?[e[0]?Ft(e[0]):null,e[1]?Ft(e[1]):null]:Ft(e);if(a){const g=sn(a);Array.isArray(i)?t=(i[0]?i[0].getTime()<=g.getTime():!0)&&(i[1]?i[1].getTime()<=g.getTime():!0):t=i.getTime()<=g.getTime()}if(n){const g=sn(n);Array.isArray(i)?t=(i[0]?i[0].getTime()>=g.getTime():!0)&&(i[1]?i[1].getTime()>=g.getTime():!0)&&t:t=i.getTime()>=g.getTime()&&t}return t},Ca=(e,a,n)=>{let t=!0;return a&&n&&(t=de(new Date(e),new Date(a))&&oe(new Date(e),new Date(n))),a&&(t=de(new Date(e),new Date(a))),n&&(t=oe(new Date(e),new Date(n))),t},ve=e=>{const a=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(a).toISOString()},rn=(e,a,n)=>e&&e[0]&&e[1]?de(n,e[0])&&oe(n,e[1]):e&&e[0]&&a?de(n,e[0])&&oe(n,a)||oe(n,e[0])&&de(n,a):!1,wt=(e,a)=>{const n=xt(e,{weekStartsOn:a}),t=On(e,{weekStartsOn:a});return[n,t]},_a=(e,a,n)=>{const t=new Date(JSON.parse(JSON.stringify(e))),i=[];for(let g=0;g<7;g++){const f=ot(t,g),v=x(f)!==a;i.push({text:n&&v?"":f.getDate(),value:f,current:!v})}return i},Aa=(e,a,n,t)=>{const i=[],g=new Date(a,e),f=new Date(a,e+1,0),v=xt(g,{weekStartsOn:n}),h=C=>{const $=_a(C,e,t);if(i.push({days:$}),!i[i.length-1].days.some(A=>Q(Ne(A.value),Ne(f)))){const A=ot(C,7);h(A)}};return h(v),i},Pa=(e,a=3)=>{const n=[];for(let t=0;t<e.length;t+=a)n.push([e[t],e[t+1],e[t+2]]);return n},Ta=(e,a)=>{const n=[1,2,3,4,5,6,7].map(g=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${g}T00:00:00+00:00`)).slice(0,2)),t=n.slice(0,a),i=n.slice(a+1,n.length);return[n[a]].concat(...i).concat(...t)},Oa=e=>{const a=[];for(let n=+e[0];n<=+e[1];n++)a.push({value:+n,text:`${n}`});return a},Ia=(e,a)=>{const n=new Intl.DateTimeFormat(e,{month:a,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(t=>{const i=t<10?`0${t}`:t;return new Date(`2017-${i}-01T00:00:00+00:00`)}).map((t,i)=>({text:n.format(t),value:i}))},Va=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Ba=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),Na=e=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},e),Ra=e=>{function a(n){let t="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",g=i.length;for(let f=0;f<n;f++)t+=i.charAt(Math.floor(Math.random()*g));return t+e}return a(5)},fe=e=>{var n;const a=o(e);return(n=a==null?void 0:a.$el)!=null?n:a},Fa=e=>Object.assign({type:"dot"},e),un=e=>Object.assign({open:"dp-open",close:"dp-close",next:"calendar-next",previous:"calendar-prev"},e),Ya=["aria-disabled","aria-readonly"],Ea={key:1,class:"dp__input_wrap"},Ha=["id","name","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Ua={key:4,class:"dp__clear_icon"},Ka=Ae({props:{name:{type:String,default:null},inputValue:{type:String,default:""},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},disabled:{type:Boolean,default:!0},readonly:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},range:{type:Boolean,default:!1},state:{type:Boolean,default:null},inputClassName:{type:String,default:null},inline:{type:Boolean,default:!1},inlineWithInput:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},isMenuOpen:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},pattern:{type:String,default:""},uid:{type:String,default:null},openMenuOnFocus:{type:Boolean,default:!0},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"}},emits:["clear","open","update:inputValue","setInputDate","close","selectDate","setEmptyDate"],setup(e,{expose:a,emit:n}){const t=e,i=F(),g=F(null),f=F(!1),v=it(),h=P(()=>({dp__pointer:!t.disabled&&!t.readonly&&!t.textInput,dp__disabled:t.disabled,dp__input:!0,dp__input_icon_pad:!t.hideInputIcon,dp__input_valid:t.state,dp__input_invalid:t.state===!1,dp__input_focus:f.value||t.isMenuOpen,[t.inputClassName]:!!t.inputClassName})),C=r=>{const{value:k}=r.target,{format:D,rangeSeparator:U}=t.textInputOptions;if(k!==""){if(t.range){const[S,Y]=k.split(`${U}`);if(S&&Y){const d=Tt(S.trim(),D||t.pattern),w=Tt(Y.trim(),D||t.pattern);i.value=d&&w?[d,w]:null}}else i.value=Tt(k,D||t.pattern);n("setInputDate",i.value)}else n("setInputDate",null),t.autoApply&&(n("setEmptyDate"),i.value=null);n("update:inputValue",k)},$=()=>{var r,k;((r=t.textInputOptions)==null?void 0:r.enterSubmit)&&Ot(i.value)&&t.inputValue!==""?(n("setInputDate",i.value,!0),i.value=null):((k=t.textInputOptions)==null?void 0:k.enterSubmit)&&t.inputValue===""&&(i.value=null,n("clear"))},A=()=>{var r,k;((r=t.textInputOptions)==null?void 0:r.tabSubmit)&&Ot(i.value)&&t.inputValue!==""?(n("setInputDate",i.value,!0),i.value=null):((k=t.textInputOptions)==null?void 0:k.tabSubmit)&&t.inputValue===""&&(i.value=null,n("clear")),n("close")},B=()=>{var r;!t.inline&&(t.textInput?t.textInput&&((r=t.textInputOptions)==null?void 0:r.openMenu):!0)&&(f.value=!0,t.openMenuOnFocus&&!t.isMenuOpen?n("open"):t.isMenuOpen&&(N(),n("close")))},O=()=>{var r;(!t.openMenuOnFocus||v["dp-input"]||v.trigger)&&(t.textInput&&((r=t.textInputOptions)==null?void 0:r.openMenu)&&!t.isMenuOpen?n("open"):t.textInput||n("open"))},I=()=>{f.value=!1,t.autoApply&&t.textInput&&i.value&&(n("setInputDate",i.value),n("selectDate"),i.value=null)},_=r=>{r.stopImmediatePropagation()},s=()=>{n("clear")},N=()=>{f.value=!1;const r=fe(g);r&&r.blur()};return a({unFocus:N}),(r,k)=>(m(),b("div",{onClick:O,"aria-label":"Datepicker input",role:"textbox","aria-multiline":"false","aria-disabled":e.disabled,"aria-readonly":e.readonly},[r.$slots.trigger&&!r.$slots["dp-input"]&&!e.inline?V(r.$slots,"trigger",{key:0}):c("",!0),!r.$slots.trigger&&(!e.inline||e.inlineWithInput)?(m(),b("div",Ea,[r.$slots["dp-input"]&&!r.$slots.trigger&&!e.inline?V(r.$slots,"dp-input",{key:0,value:e.inputValue,onInput:C,onEnter:$,onTab:A,onClear:s}):c("",!0),r.$slots["dp-input"]?c("",!0):(m(),b("input",{key:1,ref_key:"inputRef",ref:g,id:e.uid?`dp-input-${e.uid}`:void 0,name:e.name,class:J(o(h)),placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,required:e.required,value:e.inputValue,autocomplete:e.autocomplete,onInput:C,onKeydown:[z($,["enter"]),z(A,["tab"])],onBlur:I,onFocus:B},null,42,Ha)),r.$slots["input-icon"]&&!e.hideInputIcon?(m(),b("span",{key:2,class:"dp__input_icon",onClick:_},[V(r.$slots,"input-icon")])):c("",!0),!r.$slots["input-icon"]&&!e.hideInputIcon&&!r.$slots["dp-input"]?(m(),W(o(st),{key:3,class:"dp__input_icon dp__input_icons",onClick:_})):c("",!0),r.$slots["clear-icon"]&&e.clearable&&!e.disabled&&!e.readonly?(m(),b("span",Ua,[V(r.$slots,"clear-icon",{clear:s})])):c("",!0),e.clearable&&!r.$slots["clear-icon"]&&e.inputValue&&!e.disabled&&!e.readonly?(m(),W(o(Qn),{key:5,class:"dp__clear_icon dp__input_icons",onClick:St(s,["stop","prevent"])},null,8,["onClick"])):c("",!0)])):c("",!0)],8,Ya))}}),dn={weekNumbers:{type:Boolean,default:!1},weekStart:{type:[Number,String],default:1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},calendarClassName:{type:String,default:null},yearRange:{type:Array,default:()=>[1970,2100]},range:{type:Boolean,default:!1},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},is24:{type:Boolean,default:!0},hoursIncrement:{type:[String,Number],default:1},minutesIncrement:{type:[String,Number],default:1},secondsIncrement:{type:[String,Number],default:1},hoursGridIncrement:{type:[String,Number],default:1},secondsGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},autoApply:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},locale:{type:String,default:"en-US"},weekNumName:{type:String,default:"W"},disabledDates:{type:[Array,Function],default:()=>[]},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},inline:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},customProps:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},monthChangeOnScroll:{type:[Boolean,String],default:!0},markers:{type:Array,default:()=>[]},uid:{type:String,default:null},modeHeight:{type:[Number,String],default:255},enableSeconds:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},textInput:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},multiDates:{type:Boolean,default:!1},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1}},ja=e=>{const a={};return Object.keys(e).forEach(n=>{a[n]=e[n]}),a},cn={years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},month:{type:Number,default:0},year:{type:Number,default:0},filters:{type:Object,default:()=>({})},monthPicker:{type:Boolean,default:!1},instance:{type:Number,default:1},internalModelValue:{type:[Date,Array],default:null},range:{type:Boolean,default:!1},multiCalendars:{type:Number,default:0},multiCalendarsSolo:{type:Boolean,default:!1},customProps:{type:Object,default:null}},Wa={class:"db__calendar_header",role:"row"},La={key:0,class:"dp__calendar_header_item",role:"gridcell"},Ga=T("div",{class:"dp__calendar_header_separator"},null,-1),za={key:0,class:"dp__calendar",role:"grid","aria-label":"Calendar days"},qa={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Ja={class:"dp__cell_inner"},Xa=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Za=T("div",{class:"dp__arrow_bottom_tp"},null,-1),Qa=Ae({props:Ve(ge({},cn),{locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},mappedDates:{type:Array,default:()=>[]},monthYearComponent:{type:Object,default:null},calendarClassName:{type:String,default:null},timePicker:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},getWeekNum:{type:Function,default:()=>""},modeHeight:{type:[Number,String],default:255}}),emits:["selectDate","setHoverDate","handleScroll","mount"],setup(e,{emit:a}){const n=e,t=F(null),i=F({bottom:"",left:"",transform:""}),g=F([]),f=F(!0),v=Qe("transitions"),h=F(""),C=dt(n,"month"),$=dt(n,"year"),A=F(),B=F(!1),O=P(()=>Ta(n.locale,+n.weekStart));Ue(()=>{n.internalModelValue||(B.value=!0),A.value=Re(new Date,n.month,n.year),a("mount")});const I=P(()=>n.monthPicker||n.timePicker);xe([C,$],()=>{if(v!=null&&v.value){const S=Re(new Date,n.month,n.year);h.value=de(Re(new Date,n.month,n.year),A.value)?v.value.next:v.value.previous,A.value=S,B.value&&(f.value=!1,Mt(()=>{f.value=!0}))}B.value||(B.value=!0)});const _=P(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),s=P(()=>S=>{const Y=Fa(S);return{dp__marker_dot:Y.type==="dot",dp__marker_line:Y.type==="line"}}),N=P(()=>S=>Q(S,t.value)),r=P(()=>({dp__calendar:!0,dp__calendar_next:n.multiCalendars>0&&n.instance!==0})),k=P(()=>I.value?{height:`${n.modeHeight}px`}:null),D=(S,Y)=>{var d,w;if(a("setHoverDate",S),(w=(d=S.marker)==null?void 0:d.tooltip)!=null&&w.length){const u=fe(g.value[Y]);if(u){const{width:E,height:H}=u.getBoundingClientRect();i.value={bottom:`${H}px`,left:`${E/2}px`,transform:"translateX(-50%)"},t.value=S.value}}},U=()=>{t.value=null};return(S,Y)=>(m(),b("div",{class:J(o(r))},[T("div",{style:lt(o(k))},[o(I)?c("",!0):(m(),b("div",{key:0,class:J(o(_)),role:"grid","aria-label":"Calendar wrapper",onWheel:Y[1]||(Y[1]=St(d=>S.$emit("handleScroll",d),["prevent"]))},[T("div",Wa,[e.weekNumbers?(m(),b("div",La,ae(e.weekNumName),1)):c("",!0),(m(!0),b(Z,null,le(o(O),(d,w)=>(m(),b("div",{class:"dp__calendar_header_item",role:"gridcell",key:w},[S.$slots["calendar-header"]?V(S.$slots,"calendar-header",{key:0,day:d,index:w}):c("",!0),S.$slots["calendar-header"]?c("",!0):(m(),b(Z,{key:1},[Se(ae(d),1)],64))]))),128))]),Ga,Me(Be,{name:h.value,css:!!o(v)},{default:q(()=>[f.value?(m(),b("div",za,[(m(!0),b(Z,null,le(e.mappedDates,(d,w)=>(m(),b("div",{class:"dp__calendar_row",role:"row",key:w},[e.weekNumbers?(m(),b("div",qa,[T("div",Ja,ae(e.getWeekNum(d.days)),1)])):c("",!0),(m(!0),b(Z,null,le(d.days,(u,E)=>(m(),b("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:H=>{H&&(g.value[E+w]=H)},key:E+w,"aria-selected":u.classData.dp__active_date||u.classData.dp__range_start||u.classData.dp__range_start,"aria-disabled":u.classData.dp__cell_disabled,tabindex:"0",onClick:H=>S.$emit("selectDate",u),onKeydown:z(H=>S.$emit("selectDate",u),["enter"]),onMouseover:H=>D(u,E+w),onMouseleave:U},[T("div",{class:J(["dp__cell_inner",u.classData])},[S.$slots.day?V(S.$slots,"day",{key:0,day:+u.text,date:u.value}):c("",!0),S.$slots.day?c("",!0):(m(),b(Z,{key:1},[Se(ae(u.text),1)],64)),u.marker?(m(),b("div",{key:2,class:J(o(s)(u.marker)),style:lt(u.marker.color?{backgroundColor:u.marker.color}:{})},null,6)):c("",!0),o(N)(u.value)?(m(),b("div",{key:3,class:"dp__marker_tooltip",style:lt(i.value)},[T("div",{class:"dp__tooltip_content",onClick:Y[0]||(Y[0]=St(()=>{},["stop"]))},[(m(!0),b(Z,null,le(u.marker.tooltip,(H,se)=>(m(),b("div",{key:se,class:"dp__tooltip_text"},[S.$slots["marker-tooltip"]?V(S.$slots,"marker-tooltip",{key:0,tooltop:H,day:u.value}):c("",!0),S.$slots["marker-tooltip"]?c("",!0):(m(),b(Z,{key:1},[T("div",{class:"dp__tooltip_mark",style:lt(H.color?{backgroundColor:H.color}:{})},null,4),T("div",null,ae(H.text),1)],64))]))),128)),Za])],4)):c("",!0)],2)],40,Xa))),128))]))),128))])):c("",!0)]),_:3},8,["name","css"])],34))],4)],2))}}),xa=e=>typeof e=="object",mn=(e,a)=>a,el=e=>Array.isArray(e)&&e.length===2,tl=e=>Array.isArray(e),nl=e=>typeof e=="object",rt=e=>Array.isArray(e),be=e=>Array.isArray(e),kt=e=>Array.isArray(e)&&e.length===2,al=(e,a)=>a?Array.isArray(e):kt(e),ll=e=>Array.isArray(e),ol=e=>typeof e=="string"||typeof e=="object",pn=e=>typeof e=="string",sl={class:"dp__selection_preview"},rl={class:"dp__action_buttons"},ul=["onKeydown"],il=Ae({props:{selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},internalModelValue:{type:[Date,Array],default:null},range:{type:Boolean,default:!1},previewFormat:{type:[String,Function],default:()=>""},inline:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},multiCalendars:{type:Number,default:0},calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},customProps:{type:Object,default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},enableTimePicker:{type:Boolean,default:!0},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},multiDates:{type:Boolean,default:!1}},emits:["closePicker","selectDate"],setup(e,{emit:a}){const n=e,t=Qe("formatLocale"),i=P(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:!g.value||!f.value})),g=P(()=>n.enableTimePicker?Yt(n.internalModelValue,n.maxTime,n.minTime):!0),f=P(()=>n.monthPicker?Ca(n.internalModelValue,n.minDate,n.maxDate):!0),v=$=>gt($,n.previewFormat,t==null?void 0:t.value),h=P(()=>!n.internalModelValue||!n.menuMount?"":typeof n.previewFormat=="string"?rt(n.internalModelValue)?n.internalModelValue.length===2&&n.internalModelValue[1]?n.multiCalendars>0?`${v(n.internalModelValue[0])} - ${v(n.internalModelValue[1])}`:[v(n.internalModelValue[0]),v(n.internalModelValue[1])]:n.multiDates?n.internalModelValue.map($=>`${v($)}`):`${v(n.internalModelValue[0])} -`:gt(n.internalModelValue,n.previewFormat,t==null?void 0:t.value):n.timePicker?n.previewFormat(Vt(n.internalModelValue)):n.monthPicker?n.previewFormat(ht(n.internalModelValue)):n.previewFormat(n.internalModelValue)),C=()=>{g.value&&f.value&&a("selectDate")};return($,A)=>(m(),b("div",{class:"dp__action_row",style:lt(e.calendarWidth?{width:`${e.calendarWidth}px`}:{})},[T("div",sl,[$.$slots["action-preview"]?V($.$slots,"action-preview",{key:0,value:e.internalModelValue}):c("",!0),$.$slots["action-preview"]?c("",!0):(m(),b(Z,{key:1},[Array.isArray(o(h))?c("",!0):(m(),b(Z,{key:0},[Se(ae(o(h)),1)],64)),Array.isArray(o(h))?(m(!0),b(Z,{key:1},le(o(h),(B,O)=>(m(),b("div",{key:O},ae(B),1))),128)):c("",!0)],64))]),T("div",rl,[$.$slots["action-select"]?V($.$slots,"action-select",{key:0,value:e.internalModelValue}):c("",!0),$.$slots["action-select"]?c("",!0):(m(),b(Z,{key:1},[e.inline?c("",!0):(m(),b("span",{key:0,class:"dp__action dp__cancel",tabindex:"0",onClick:A[0]||(A[0]=B=>$.$emit("closePicker")),onKeydown:A[1]||(A[1]=z(B=>$.$emit("closePicker"),["enter"]))},ae(e.cancelText),33)),T("span",{class:J(o(i)),tabindex:"0",onKeydown:z(C,["enter"]),onClick:C},ae(e.selectText),43,ul)],64))])],4))}}),dl={class:"dp__overlay_container",role:"grid"},cl={class:"dp__selection_grid_header"},ml=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],pl=["onKeydown"],Le=Ae({props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1}},emits:["update:modelValue","selected","toggle","reset-flow"],setup(e,{emit:a}){const n=e,t=F(!1),i=F(null),g=F(null),f=Qe("autoApply",!1),v=Qe("textInput",F(!1)),h=F();Dn(()=>{i.value=null}),Ue(()=>{I();const r=fe(g);r&&(v.value||r.focus({preventScroll:!0}),t.value=r.clientHeight<r.scrollHeight)});const C=P(()=>({dp__overlay:!0})),$=P(()=>({dp__overlay_col:!0})),A=P(()=>n.items.map(r=>r.filter(k=>k).map(k=>{var S,Y,d;const D=n.disabledValues.some(w=>w===k.value)||O(k.value),U=(S=n.multiModelValue)!=null&&S.length?(Y=n.multiModelValue)==null?void 0:Y.some(w=>Q(w,pt(mt(new Date,k.value),n.year))):n.skipActive?!1:k.value===n.modelValue;return Ve(ge({},k),{className:{dp__overlay_cell_active:U,dp__overlay_cell:!U,dp__overlay_cell_disabled:D,dp__overlay_cell_active_disabled:D&&U,dp__overlay_cell_pad:!0,dp__cell_in_between:(d=n.multiModelValue)!=null&&d.length?s(k.value):!1}})}))),B=P(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:t.value,dp__button_bottom:f})),O=r=>{const k=n.maxValue?+r>+n.maxValue:!1,D=n.minValue?+r<+n.minValue:!1;return k||D},I=()=>{const r=fe(i);if(r){const k=fe(g);k&&(k.scrollTop=r.offsetTop-k.offsetTop-(k.getBoundingClientRect().height/2-r.getBoundingClientRect().height))}},_=r=>{!n.disabledValues.some(k=>k===r)&&(n.minValue?+n.minValue<=r:!0)&&(n.maxValue?+n.maxValue>=r:!0)&&(a("update:modelValue",r),a("selected"))},s=r=>rn(n.multiModelValue,pt(mt(new Date,h.value||0),n.year),pt(mt(new Date,r),n.year)),N=()=>{a("toggle"),a("reset-flow")};return(r,k)=>(m(),b("div",{ref_key:"gridWrapRef",ref:g,class:J(o(C)),role:"dialog",tabindex:"0"},[T("div",dl,[T("div",cl,[V(r.$slots,"header")]),(m(!0),b(Z,null,le(o(A),(D,U)=>(m(),b("div",{class:"dp__overlay_row",key:o(Ra)(U),role:"row"},[(m(!0),b(Z,null,le(D,S=>(m(),b("div",{role:"gridcell",class:J(o($)),key:S.value,"aria-selected":S.value===e.modelValue&&!e.disabledValues.includes(S.value),"aria-disabled":S.className.dp__overlay_cell_disabled,ref_for:!0,ref:Y=>{S.value===e.modelValue&&!e.disabledValues.includes(S.value)&&(i.value=Y)},tabindex:"0",onClick:Y=>_(S.value),onKeydown:z(Y=>_(S.value),["enter"]),onMouseover:Y=>h.value=S.value},[T("div",{class:J(S.className)},[r.$slots.item?V(r.$slots,"item",{key:0,item:S}):c("",!0),r.$slots.item?c("",!0):(m(),b(Z,{key:1},[Se(ae(S.text),1)],64))],2)],42,ml))),128))]))),128)),r.$slots["button-icon"]?(m(),b("div",{key:0,role:"button","aria-label":"Toggle overlay",class:J(o(B)),tabindex:"0",onClick:N,onKeydown:z(N,["enter"])},[V(r.$slots,"button-icon")],42,pl)):c("",!0)])],2))}}),Et=()=>{const e=Qe("transitions");return{transitionName:P(()=>a=>e!=null&&e.value?a?e.value.open:e.value.close:""),showTransition:!!(e!=null&&e.value)}},vl={key:0,class:"dp__time_input"},fl=["onKeydown"],yl=["onKeydown"],hl=["onKeydown"],gl={key:2},wl=["onKeydown"],kl=Ae({props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},is24:{type:Boolean,default:!0},filters:{type:Object,default:()=>({})},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["setHours","setMinutes","update:hours","update:minutes","update:seconds","reset-flow"],setup(e,{expose:a,emit:n}){const t=e,i=F(!1),g=F(!1),f=F(!1),v=F("AM"),{transitionName:h,showTransition:C}=Et(),$=P(()=>({dp__time_col:!0,dp__time_col_reg:!t.enableSeconds&&t.is24,dp__time_col_reg_with_button:!t.enableSeconds&&!t.is24,dp__time_col_sec:t.enableSeconds&&t.is24,dp__time_col_sec_with_button:t.enableSeconds&&!t.is24})),A=P(()=>{const d=U(t.hours);return{text:d<10?`0${d}`:`${d}`,value:d}}),B=P(()=>({text:t.minutes<10?`0${t.minutes}`:`${t.minutes}`,value:t.minutes})),O=P(()=>({text:t.seconds<10?`0${t.seconds}`:`${t.seconds}`,value:t.seconds})),I=(d,w)=>{const u=[];for(let E=0;E<d;E+=w)u.push({value:E,text:E<10?`0${E}`:`${E}`});return Pa(u)},_=(d,w)=>I(d,+w),s=()=>{t.noHoursOverlay||(i.value=!i.value)},N=()=>{t.noMinutesOverlay||(g.value=!g.value)},r=()=>{t.noSecondsOverlay||(f.value=!f.value)},k=(d,w)=>({hours:d==="hours"?w?me(Nt({hours:+t.hours},{hours:+t.hoursIncrement})):me(Rt({hours:+t.hours},{hours:+t.hoursIncrement})):t.hours,minutes:d==="minutes"?w?pe(Nt({minutes:t.minutes},{minutes:+t.minutesIncrement})):pe(Rt({minutes:t.minutes},{minutes:+t.minutesIncrement})):t.minutes,seconds:d==="seconds"?w?Pe(Nt({seconds:t.seconds},{seconds:+t.secondsIncrement})):Pe(Rt({seconds:t.seconds},{seconds:+t.secondsIncrement})):t.seconds}),D=(d,w=!0)=>{const E=k(d,w)[d];n(w?`update:${d}`:`update:${d}`,E)},U=d=>t.is24?d:(d>=12?v.value="PM":v.value="AM",Va(d)),S=()=>{v.value==="PM"?(v.value="AM",n("update:hours",t.hours-12)):(v.value="PM",n("update:hours",t.hours+12))};return a({openChildCmp:d=>{switch(d){case"hours":i.value=!0;break;case"minutes":g.value=!0;break;case"seconds":f.value=!0}}}),(d,w)=>e.disabled?c("",!0):(m(),b("div",vl,[T("div",{class:J(o($))},[T("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Increment hours",tabindex:"0",onKeydown:w[0]||(w[0]=z(u=>D("hours"),["enter"])),onClick:w[1]||(w[1]=u=>D("hours"))},[d.$slots["arrow-up"]?V(d.$slots,"arrow-up",{key:0}):c("",!0),d.$slots["arrow-up"]?c("",!0):(m(),W(o(At),{key:1}))],32),T("div",{role:"button","aria-label":"Open hours overlay",class:J(e.noHoursOverlay?"":"dp__time_display"),tabindex:"0",onKeydown:z(s,["enter"]),onClick:s},[d.$slots.hours?V(d.$slots,"hours",{key:0,text:o(A).text,value:o(A).value}):c("",!0),d.$slots.hours?c("",!0):(m(),b(Z,{key:1},[Se(ae(o(A).text),1)],64))],42,fl),T("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Decrement hours",tabindex:"0",onKeydown:w[2]||(w[2]=z(u=>D("hours",!1),["enter"])),onClick:w[3]||(w[3]=u=>D("hours",!1))},[d.$slots["arrow-down"]?V(d.$slots,"arrow-down",{key:0}):c("",!0),d.$slots["arrow-down"]?c("",!0):(m(),W(o(Pt),{key:1}))],32)],2),T("div",{class:J(o($))},":",2),T("div",{class:J(o($))},[T("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Increment minutes",tabindex:"0",onKeydown:w[4]||(w[4]=z(u=>D("minutes"),["enter"])),onClick:w[5]||(w[5]=u=>D("minutes"))},[d.$slots["arrow-up"]?V(d.$slots,"arrow-up",{key:0}):c("",!0),d.$slots["arrow-up"]?c("",!0):(m(),W(o(At),{key:1}))],32),T("div",{"aria-label":"Open minutes overlay",role:"button",class:J(e.noMinutesOverlay?"":"dp__time_display"),tabindex:"0",onKeydown:z(N,["enter"]),onClick:N},[d.$slots.minutes?V(d.$slots,"minutes",{key:0,text:o(B).text,value:o(B).value}):c("",!0),d.$slots.minutes?c("",!0):(m(),b(Z,{key:1},[Se(ae(o(B).text),1)],64))],42,yl),T("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Decrement minutes",tabindex:"0",onKeydown:w[6]||(w[6]=z(u=>D("minutes",!1),["enter"])),onClick:w[7]||(w[7]=u=>D("minutes",!1))},[d.$slots["arrow-down"]?V(d.$slots,"arrow-down",{key:0}):c("",!0),d.$slots["arrow-down"]?c("",!0):(m(),W(o(Pt),{key:1}))],32)],2),e.enableSeconds?(m(),b("div",{key:0,class:J(o($))},":",2)):c("",!0),e.enableSeconds?(m(),b("div",{key:1,class:J(o($))},[T("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Increment seconds",tabindex:"0",onKeydown:w[8]||(w[8]=z(u=>D("seconds"),["enter"])),onClick:w[9]||(w[9]=u=>D("seconds"))},[d.$slots["arrow-up"]?V(d.$slots,"arrow-up",{key:0}):c("",!0),d.$slots["arrow-up"]?c("",!0):(m(),W(o(At),{key:1}))],32),T("div",{role:"button","aria-label":"Open seconds overlay",class:J(e.noSecondsOverlay?"":"dp__time_display"),tabindex:"0",onKeydown:z(r,["enter"]),onClick:r},[d.$slots.seconds?V(d.$slots,"hours",{key:0,text:o(O).text,value:o(O).value}):c("",!0),d.$slots.seconds?c("",!0):(m(),b(Z,{key:1},[Se(ae(o(O).text),1)],64))],42,hl),T("div",{class:"dp__inc_dec_button",role:"button","aria-label":"Decrement seconds",tabindex:"0",onKeydown:w[10]||(w[10]=z(u=>D("seconds",!1),["enter"])),onClick:w[11]||(w[11]=u=>D("seconds",!1))},[d.$slots["arrow-down"]?V(d.$slots,"arrow-down",{key:0}):c("",!0),d.$slots["arrow-down"]?c("",!0):(m(),W(o(Pt),{key:1}))],32)],2)):c("",!0),e.is24?c("",!0):(m(),b("div",gl,[d.$slots["am-pm-button"]?V(d.$slots,"am-pm-button",{key:0,toggle:S,value:v.value}):c("",!0),d.$slots["am-pm-button"]?c("",!0):(m(),b("button",{key:1,class:"dp__pm_am_button",role:"button","aria-label":"Switch AM/PM mode",tabindex:"0",onClick:S,onKeydown:z(S,["enter"])},ae(v.value),41,wl))])),Me(Be,{name:o(h)(i.value),css:o(C)},{default:q(()=>[i.value?(m(),W(Le,{key:0,items:_(e.is24?24:12,e.hoursGridIncrement),"disabled-values":e.filters.times.hours,"onUpdate:modelValue":w[12]||(w[12]=u=>d.$emit("update:hours",u)),onSelected:s,onToggle:s,onResetFlow:w[13]||(w[13]=u=>d.$emit("reset-flow"))},re({"button-icon":q(()=>[d.$slots["clock-icon"]?V(d.$slots,"clock-icon",{key:0}):c("",!0),d.$slots["clock-icon"]?c("",!0):(m(),W(o(yt),{key:1}))]),_:2},[d.$slots["hours-overlay"]?{name:"item",fn:q(({item:u})=>[V(d.$slots,"hours-overlay",{text:u.text,value:u.value})])}:void 0]),1032,["items","disabled-values"])):c("",!0)]),_:3},8,["name","css"]),Me(Be,{name:o(h)(g.value),css:o(C)},{default:q(()=>[g.value?(m(),W(Le,{key:0,items:_(60,e.minutesGridIncrement),"disabled-values":e.filters.times.minutes,"onUpdate:modelValue":w[14]||(w[14]=u=>d.$emit("update:minutes",u)),onSelected:N,onToggle:N,onResetFlow:w[15]||(w[15]=u=>d.$emit("reset-flow"))},re({"button-icon":q(()=>[d.$slots["clock-icon"]?V(d.$slots,"clock-icon",{key:0}):c("",!0),d.$slots["clock-icon"]?c("",!0):(m(),W(o(yt),{key:1}))]),_:2},[d.$slots["minutes-overlay"]?{name:"item",fn:q(({item:u})=>[V(d.$slots,"minutes-overlay",{text:u.text,value:u.value})])}:void 0]),1032,["items","disabled-values"])):c("",!0)]),_:3},8,["name","css"]),Me(Be,{name:o(h)(f.value),css:o(C)},{default:q(()=>[f.value?(m(),W(Le,{key:0,items:_(60,e.secondsGridIncrement),"disabled-values":e.filters.times.seconds,"onUpdate:modelValue":w[16]||(w[16]=u=>d.$emit("update:seconds",u)),onSelected:r,onToggle:r,onResetFlow:w[17]||(w[17]=u=>d.$emit("reset-flow"))},re({"button-icon":q(()=>[d.$slots["clock-icon"]?V(d.$slots,"clock-icon",{key:0}):c("",!0),d.$slots["clock-icon"]?c("",!0):(m(),W(o(yt),{key:1}))]),_:2},[d.$slots["seconds-overlay"]?{name:"item",fn:q(({item:u})=>[V(d.$slots,"seconds-overlay",{text:u.text,value:u.value})])}:void 0]),1032,["items","disabled-values"])):c("",!0)]),_:3},8,["name","css"])]))}}),ut=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay",use:["calendar","month-year"]},{name:"year-overlay",use:["calendar","month-year"]},{name:"hours-overlay",use:["calendar","time"]},{name:"minutes-overlay",use:["calendar","time"]},{name:"seconds-overlay",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]}],bl=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],$l={all:()=>ut,monthYear:()=>ut.filter(e=>e.use.includes("month-year")),input:()=>bl,timePicker:()=>ut.filter(e=>e.use.includes("time")),action:()=>ut.filter(e=>e.use.includes("action")),calendar:()=>ut.filter(e=>e.use.includes("calendar"))},Ge=(e,a)=>{const n=[];return $l[a]().forEach(t=>{e[t.name]&&n.push(t.name)}),n},Dl={key:0,class:"dp__overlay"},Sl={class:"dp__overlay_container"},Ml={key:1,class:"dp__overlay_row"},Cl=Ae({props:{hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},is24:{type:Boolean,default:!0},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},range:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},timePicker:{type:Boolean,default:!1},hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},customProps:{type:Object,default:null},enableSeconds:{type:Boolean,default:!1},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1}},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow"],setup(e,{expose:a,emit:n}){const t=e,i=it(),g=Qe("autoApply",!1),f=F(null),{transitionName:v,showTransition:h}=Et();Ue(()=>{n("mount")});const C=F(!1),$=D=>({hours:Array.isArray(t.hours)?t.hours[D]:t.hours,minutes:Array.isArray(t.minutes)?t.minutes[D]:t.minutes,seconds:Array.isArray(t.seconds)?t.seconds[D]:t.seconds}),A=P(()=>{const D=[];if(t.range)for(let U=0;U<2;U++)D.push($(U));else D.push($(0));return D}),B=(D,U=!1,S="")=>{U||n("reset-flow"),C.value=D,Mt(()=>{S!==""&&f.value&&f.value.openChildCmp(S)})},O=P(()=>({dp__button:!0,dp__button_bottom:g})),I=Ge(i,"timePicker"),_=P(()=>({is24:t.is24,hoursGridIncrement:t.hoursGridIncrement,minutesGridIncrement:t.minutesGridIncrement,secondsGridIncrement:t.secondsGridIncrement,hoursIncrement:t.hoursIncrement,minutesIncrement:t.minutesIncrement,secondsIncrement:t.secondsIncrement,filters:t.filters,noHoursOverlay:t.noHoursOverlay,noMinutesOverlay:t.noMinutesOverlay,noSecondsOverlay:t.noSecondsOverlay,enableSeconds:t.enableSeconds})),s=(D,U,S)=>t.range?U===0?[D,A.value[1][S]]:[A.value[0][S],D]:D,N=D=>{n("update:hours",D)},r=D=>{n("update:minutes",D)},k=D=>{n("update:seconds",D)};return a({toggleTimePicker:B}),(D,U)=>(m(),b("div",null,[e.timePicker?c("",!0):(m(),b("div",{key:0,class:J(o(O)),role:"button","aria-label":"Open time picker",tabindex:"0",onKeydown:U[0]||(U[0]=z(S=>B(!0),["enter"])),onClick:U[1]||(U[1]=S=>B(!0))},[D.$slots["clock-icon"]?V(D.$slots,"clock-icon",{key:0}):c("",!0),D.$slots["clock-icon"]?c("",!0):(m(),W(o(yt),{key:1}))],34)),Me(Be,{name:o(v)(C.value),css:o(h)},{default:q(()=>[C.value||e.timePicker?(m(),b("div",Dl,[T("div",Sl,[D.$slots["time-picker-overlay"]?V(D.$slots,"time-picker-overlay",{key:0,range:e.range,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:N,setMinutes:r,setSeconds:k}):c("",!0),D.$slots["time-picker-overlay"]?c("",!0):(m(),b("div",Ml,[(m(!0),b(Z,null,le(o(A),(S,Y)=>(m(),W(kl,we({key:Y,disabled:Y===0?e.fixedStart:e.fixedEnd,hours:S.hours,minutes:S.minutes,seconds:S.seconds},o(_),{"onUpdate:hours":d=>N(s(d,Y,"hours")),"onUpdate:minutes":d=>r(s(d,Y,"minutes")),"onUpdate:seconds":d=>k(s(d,Y,"seconds"))}),re({_:2},[le(o(I),(d,w)=>({name:d,fn:q(u=>[V(D.$slots,d,Ke(je(u)))])}))]),1040,["disabled","hours","minutes","seconds","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"]))),128))])),e.timePicker?c("",!0):(m(),b("div",{key:2,class:J(o(O)),role:"button","aria-label":"Close time picker",tabindex:"0",onKeydown:U[2]||(U[2]=z(S=>B(!1),["enter"])),onClick:U[3]||(U[3]=S=>B(!1))},[D.$slots["calendar-icon"]?V(D.$slots,"calendar-icon",{key:0}):c("",!0),D.$slots["calendar-icon"]?c("",!0):(m(),W(o(st),{key:1}))],34))])])):c("",!0)]),_:3},8,["name","css"])]))}}),_l=(e,a)=>{const n=(h,C)=>{let $=h;return e.filters.months.includes(x($))?($=C?et(h,1):ft(h,1),n($,C)):$},t=(h,C)=>{let $=h;return e.filters.years.includes(ee($))?($=C?Vn(h,1):Bn(h,1),t($,C)):$},i=(h,C,$)=>[new Date(e[h]),ke(new Date,{month:C,year:$})],g=(h,C)=>{e.preventMinMaxNavigation&&(e.minDate||e.maxDate)?(e.maxDate&&(de(...i("maxDate",h,C))||Q(...i("maxDate",h,C)))&&v(h,C),(e.minDate&&oe(...i("minDate",h,C))||Q(...i("minDate",h,C)))&&v(h,C)):v(h,C)},f=h=>{const C=ke(new Date,{month:e.month,year:e.year});let $=h?et(C,1):ft(C,1),A=x($),B=ee($);e.filters.months.includes(A)&&($=n($,h),A=x($),B=ee($)),e.filters.years.includes(B)&&($=t($,h),B=ee($)),g(A,B)},v=(h,C)=>{a("update:month",h),a("update:year",C)};return{handleMonthYearChange:f}},Al={class:"dp__month_year_row"},Pl={class:"dp__inner_nav",role:"button","aria-label":"Previous month"},Tl=["onKeydown"],Ol=["onKeydown"],Il={class:"dp__inner_nav",role:"button","aria-label":"Next month"},Vl={class:"dp__month_picker_header"},Bl={class:"dp__inner_nav",role:"button","aria-label":"Previous month"},Nl=["onKeydown"],Rl={class:"dp__inner_nav",role:"button","aria-label":"Next month"},Fl=Ae({props:Ve(ge({},cn),{minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1}}),emits:["update:month","update:year","monthYearSelect","mount","reset-flow"],setup(e,{expose:a,emit:n}){const t=e,{transitionName:i,showTransition:g}=Et(),f=F(!1),v=F(!1),{handleMonthYearChange:h}=_l(t,n);Ue(()=>{n("mount")});const C=u=>{n("update:month",u),n("monthYearSelect"),S(!0)},$=u=>{n("update:year",u),n("monthYearSelect",!0),Y(!0)},A=P(()=>t.minDate?ee(new Date(t.minDate)):null),B=P(()=>t.maxDate?ee(new Date(t.maxDate)):null),O=P(()=>{if(t.minDate&&A.value){if(A.value>t.year)return 12;if(A.value===t.year)return x(new Date(t.minDate))}return null}),I=P(()=>{if(t.maxDate&&B.value){if(B.value<t.year)return-1;if(B.value===t.year)return x(new Date(t.maxDate))}return null}),_=P(()=>t.range&&t.internalModelValue&&t.monthPicker?t.internalModelValue:[]),s=(u,E=!1)=>{const H=[];for(let se=0;se<u.length;se+=3){const Te=[u[se],u[se+1],u[se+2]];H.push(E?Te.reverse():Te)}return E?H.reverse():H},N=P(()=>{const u=t.months.find(E=>E.value===t.month);return u||{text:"",value:0}}),r=P(()=>s(t.months)),k=P(()=>s(t.years,t.reverseYears)),D=P(()=>t.multiCalendars?t.multiCalendarsSolo?!0:t.instance===0:!0),U=P(()=>t.multiCalendars?t.multiCalendarsSolo?!0:t.instance===t.multiCalendars-1:!0),S=(u=!1)=>{d(u),f.value=!f.value},Y=(u=!1)=>{d(u),v.value=!v.value},d=u=>{u||n("reset-flow")},w=(u=!1)=>{n("update:year",u?t.year+1:t.year-1)};return a({toggleMonthPicker:S,toggleYearPicker:Y}),(u,E)=>(m(),b("div",Al,[u.monthPicker?c("",!0):(m(),b(Z,{key:0},[o(D)?(m(),b("div",{key:0,class:"dp__month_year_col_nav",onClick:E[0]||(E[0]=H=>o(h)(!1)),onKeydown:E[1]||(E[1]=z(H=>o(h)(!1),["enter"])),tabindex:"0"},[T("div",Pl,[u.$slots["arrow-left"]?V(u.$slots,"arrow-left",{key:0}):c("",!0),u.$slots["arrow-left"]?c("",!0):(m(),W(o(tn),{key:1}))])],32)):c("",!0),T("div",{class:"dp__month_year_select",onClick:S,onKeydown:z(S,["enter"]),role:"button","aria-label":"Open months overlay",tabindex:"0"},[u.$slots.month?V(u.$slots,"month",{key:0,value:o(N).value,text:o(N).text}):c("",!0),u.$slots.month?c("",!0):(m(),b(Z,{key:1},[Se(ae(o(N).text),1)],64))],40,Tl),T("div",{class:"dp__month_year_select",onClick:Y,onKeydown:z(Y,["enter"]),role:"button","aria-label":"Open years overlay",tabindex:"0"},[u.$slots.year?V(u.$slots,"year",{key:0,year:u.year}):c("",!0),u.$slots.year?c("",!0):(m(),b(Z,{key:1},[Se(ae(u.year),1)],64))],40,Ol),Me(Be,{name:o(i)(f.value),css:o(g)},{default:q(()=>[f.value?(m(),W(Le,we({key:0},{modelValue:u.month,items:o(r),disabledValues:u.filters.months,minValue:o(O),maxValue:o(I)},{"onUpdate:modelValue":C,onToggle:S}),re({"button-icon":q(()=>[u.$slots["calendar-icon"]?V(u.$slots,"calendar-icon",{key:0}):c("",!0),u.$slots["calendar-icon"]?c("",!0):(m(),W(o(st),{key:1}))]),_:2},[u.$slots["month-overlay"]?{name:"item",fn:q(({item:H})=>[V(u.$slots,"month-overlay",{text:H.text,value:H.value})])}:void 0]),1040)):c("",!0)]),_:3},8,["name","css"]),Me(Be,{name:o(i)(v.value),css:o(g)},{default:q(()=>[v.value?(m(),W(Le,we({key:0},{modelValue:u.year,items:o(k),disabledValues:u.filters.years,minValue:o(A),maxValue:o(B)},{"onUpdate:modelValue":$,onToggle:Y}),re({"button-icon":q(()=>[u.$slots["calendar-icon"]?V(u.$slots,"calendar-icon",{key:0}):c("",!0),u.$slots["calendar-icon"]?c("",!0):(m(),W(o(st),{key:1}))]),_:2},[u.$slots["year-overlay"]?{name:"item",fn:q(({item:H})=>[V(u.$slots,"year-overlay",{text:H.text,value:H.value})])}:void 0]),1040)):c("",!0)]),_:3},8,["name","css"]),o(U)?(m(),b("div",{key:1,class:"dp__month_year_col_nav",onClick:E[2]||(E[2]=H=>o(h)(!0)),onKeydown:E[3]||(E[3]=z(H=>o(h)(!0),["enter"])),tabindex:"0"},[T("div",Il,[u.$slots["arrow-right"]?V(u.$slots,"arrow-right",{key:0}):c("",!0),u.$slots["arrow-right"]?c("",!0):(m(),W(o(nn),{key:1}))])],32)):c("",!0)],64)),u.monthPicker?(m(),W(Le,we({key:1},{modelValue:u.month,items:o(r),disabledValues:u.filters.months,minValue:o(O),maxValue:o(I),multiModelValue:o(_),year:u.year,skipActive:t.range},{"onUpdate:modelValue":C,onToggle:S}),re({header:q(()=>[T("div",Vl,[T("div",{class:"dp__month_year_col_nav",tabindex:"0",onClick:E[4]||(E[4]=H=>w(!1)),onKeydown:E[5]||(E[5]=z(H=>w(!1),["enter"]))},[T("div",Bl,[u.$slots["arrow-left"]?V(u.$slots,"arrow-left",{key:0}):c("",!0),u.$slots["arrow-left"]?c("",!0):(m(),W(o(tn),{key:1}))])],32),T("div",{class:"dp__pointer",role:"button","aria-label":"Open years overlay",tabindex:"0",onClick:Y,onKeydown:z(Y,["enter"])},[u.$slots.year?V(u.$slots,"year",{key:0,year:u.year}):c("",!0),u.$slots.year?c("",!0):(m(),b(Z,{key:1},[Se(ae(u.year),1)],64))],40,Nl),T("div",{class:"dp__month_year_col_nav",tabindex:"0",onClick:E[6]||(E[6]=H=>w(!0)),onKeydown:E[7]||(E[7]=z(H=>w(!0),["enter"]))},[T("div",Rl,[u.$slots["arrow-right"]?V(u.$slots,"arrow-right",{key:0}):c("",!0),u.$slots["arrow-right"]?c("",!0):(m(),W(o(nn),{key:1}))])],32)]),Me(Be,{name:o(i)(v.value),css:o(g)},{default:q(()=>[v.value?(m(),W(Le,we({key:0},{modelValue:u.year,items:o(k),disabledValues:u.filters.years,minValue:o(A),maxValue:o(B)},{"onUpdate:modelValue":$,onToggle:Y}),re({"button-icon":q(()=>[u.$slots["calendar-icon"]?V(u.$slots,"calendar-icon",{key:0}):c("",!0),u.$slots["calendar-icon"]?c("",!0):(m(),W(o(st),{key:1}))]),_:2},[u.$slots["year-overlay"]?{name:"item",fn:q(({item:H})=>[V(u.$slots,"year-overlay",{text:H.text,value:H.value})])}:void 0]),1040)):c("",!0)]),_:3},8,["name","css"])]),_:2},[u.$slots["month-overlay"]?{name:"item",fn:q(({item:H})=>[V(u.$slots,"month-overlay",{text:H.text,value:H.value})])}:void 0]),1040)):c("",!0)]))}}),Yl=(e,a,n)=>{const t=F(new Date),i=F(),g=F([{month:x(new Date),year:ee(new Date)}]),f=F(e.range?[me(new Date),me(new Date)]:me(new Date)),v=F(e.range?[pe(new Date),pe(new Date)]:pe(new Date)),h=F(e.range?[0,0]:0);xe(g,()=>{setTimeout(()=>{e.openOnTop&&a("dpOpen")},0)},{deep:!0}),Ue(()=>{d(),s.value||(e.startDate&&(g.value[0].month=x(new Date(e.startDate)),g.value[0].year=ee(new Date(e.startDate)),e.multiCalendars&&$e(0)),e.startTime&&_())});const C=P(()=>l=>g.value[l]?g.value[l].month:0),$=P(()=>l=>g.value[l]?g.value[l].year:0),A=(l,y,M)=>{g.value[l].month=y,g.value[l].year=M},B=(l,y)=>g.value[l].month=y,O=(l,y)=>g.value[l].year=y,I=(l=!0)=>e.enableSeconds?Array.isArray(h.value)?l?h.value[0]:h.value[1]:h.value:0,_=()=>{e.startTime&&(ll(e.startTime)?(f.value=[+e.startTime[0].hours,+e.startTime[1].hours],v.value=[+e.startTime[0].minutes,+e.startTime[1].minutes],e.enableSeconds&&(h.value=[+e.startTime[0].seconds,+e.startTime[1].seconds])):(f.value=+e.startTime.hours,v.value=+e.startTime.minutes,e.enableSeconds&&(h.value=+e.startTime.seconds)))},s=P({get:()=>e.internalModelValue,set:l=>{!e.readonly&&!e.disabled&&a("update:internalModelValue",l)}});xe(s,()=>d());const N=l=>{const y=e.maxDate?de(ve(l),ve(new Date(e.maxDate))):!1,M=e.minDate?oe(ve(l),ve(new Date(e.minDate))):!1,L=typeof e.disabledDates=="function"?e.disabledDates(l):e.disabledDates.some(_e=>Q(ve(new Date(_e)),ve(l))),ce=(e.filters.months.length?e.filters.months.map(_e=>+_e):[]).includes(x(l)),Ee=e.disabledWeekDays.length?e.disabledWeekDays.some(_e=>+_e===Nn(l)):!1,Ce=e.allowedDates.length?!e.allowedDates.some(_e=>Q(ve(new Date(_e)),ve(l))):!1,He=ee(l),De=He<+e.yearRange[0]||He>+e.yearRange[1];return y||M||L||ce||De||Ee||Ce},r=l=>!s.value||e.hideOffsetDates&&!l.current||e.range?!1:e.multiDates&&Array.isArray(s.value)?s.value.some(y=>Q(y,l.value)):Q(l.value,s.value?s.value:t.value),k=l=>rn(s.value,i.value,l.value),D=l=>{if(B(0,x(l)),O(0,ee(l)),e.multiCalendars)for(let y=1;y<e.multiCalendars;y++){const M=ke(new Date,{month:C.value(y-1),year:$.value(y-1)}),L=en(M,{months:1});g.value.push({month:x(L),year:ee(L)})}},U=()=>{if(Array.isArray(s.value)&&s.value.length===2){const l=new Date(s.value[1]?s.value[1]:et(s.value[0],1)),[y,M]=[x(s.value[0]),ee(s.value[0])],[L,ce]=[x(s.value[1]),ee(s.value[1])];(y!==L||y===L&&M!==ce)&&e.multiCalendarsSolo&&(B(1,x(l)),O(1,ee(l)))}},S=l=>{D(l),f.value=me(l),v.value=pe(l),h.value=Pe(l)},Y=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null,d=()=>{if(s.value)if(rt(s.value)){if(s.value.length===2&&!e.multiDates)D(s.value[0]),f.value=[me(s.value[0]),s.value[1]?me(s.value[1]):me(new Date)],v.value=[pe(s.value[0]),s.value[1]?pe(s.value[1]):pe(new Date)],h.value=[Pe(s.value[0]),s.value[1]?Pe(s.value[1]):Pe(new Date)];else if(rt(s.value)&&e.multiDates){const l=s.value[s.value.length-1];l&&S(l)}e.multiCalendars&&e.multiCalendarsSolo&&U()}else S(s.value);else e.timePicker?(_(),e.range?be(f.value)&&be(v.value)&&(s.value=[ue(new Date,f.value[0],v.value[0],I()),ue(new Date,f.value[1],v.value[1],I(!1))]):s.value=ue(new Date,f.value,v.value,I())):e.monthPicker&&!e.range?s.value=Re(new Date,C.value(0),$.value(0)):e.multiCalendars&&D(new Date)},w=l=>{const y=x(new Date(l)),M=ee(new Date(l));if(B(0,y),O(0,M),e.multiCalendars>0)for(let L=1;L<e.multiCalendars;L++){const ce=Ma(ke(new Date(l),{year:C.value(L-1),month:$.value(L-1)}));B(L,ce.month),O(L,ce.year)}},u=l=>{if(s.value&&Array.isArray(s.value))if(s.value.some(y=>Q(l,y))){const y=s.value.filter(M=>!Q(M,l));s.value=y.length?y:null}else(e.multiDatesLimit&&+e.multiDatesLimit>s.value.length||!e.multiDatesLimit)&&s.value.push(l);else s.value=[l]},E=l=>{if(Array.isArray(s.value)&&s.value[0]){const y=Fn(l,s.value[0]),M=Math.abs(y<0?y+1:y-1);if(e.minRange&&e.maxRange)return M>=+e.minRange&&M<=+e.maxRange;if(e.minRange)return M>=+e.minRange;if(e.maxRange)return M<=+e.maxRange}return!0},H=l=>Array.isArray(s.value)&&s.value.length===2?e.fixedStart&&(de(l,s.value[0])||Q(l,s.value[0]))?[s.value[0],l]:e.fixedEnd&&(oe(l,s.value[1])||Q(l,s.value[1]))?[l,s.value[1]]:s.value:[],se=()=>{e.autoApply&&a("autoApply")},Te=(l,y=!1)=>{if(!N(l.value)&&!(!l.current&&e.hideOffsetDates)){if(e.weekPicker)return s.value=wt(new Date(l.value),+e.weekStart),se();if(!e.range&&!be(f.value)&&!be(v.value)){const M=ue(new Date(l.value),f.value,v.value,I());e.multiDates?u(M):s.value=M,n(),se()}else if(be(f.value)&&be(v.value)&&!e.multiDates){let M=s.value?s.value.slice():[];M.length===2&&!(e.fixedStart||e.fixedEnd)&&(M=[]),e.autoRange?(y&&w(l.value),M=[new Date(l.value),ot(new Date(l.value),+e.autoRange)]):e.fixedStart||e.fixedEnd?M=H(new Date(l.value)):M[0]?E(new Date(l.value))&&(oe(new Date(l.value),new Date(M[0]))?M.unshift(new Date(l.value)):M[1]=new Date(l.value)):M[0]=new Date(l.value),M[0]&&!M[1]?M[0]=ue(M[0],f.value[0],v.value[0],I()):(M[0]=ue(M[0],f.value[0],v.value[0],I()),M[1]=ue(M[1],f.value[1],v.value[1],I(!1)),n()),s.value=M,M[0]&&M[1]&&e.autoApply&&a("autoApply")}}},ze=l=>{const y=l.find(M=>M.current);return y?Rn(y.value):""},ye=l=>{!l.current&&e.hideOffsetDates||(i.value=l.value)},qe=l=>{if(e.autoRange||e.weekPicker){if(i.value){if(e.hideOffsetDates&&!l.current)return!1;const y=ot(i.value,+e.autoRange),M=wt(new Date(i.value),+e.weekStart);return e.weekPicker?Q(M[1],new Date(l.value)):Q(y,new Date(l.value))}return!1}return!1},Je=l=>{if(e.autoRange||e.weekPicker){if(i.value){const y=ot(i.value,+e.autoRange);if(e.hideOffsetDates&&!l.current)return!1;const M=wt(new Date(i.value),+e.weekStart);return e.weekPicker?de(l.value,M[0])&&oe(l.value,M[1]):de(l.value,i.value)&&oe(l.value,y)}return!1}return!1},Fe=l=>{if(e.autoRange||e.weekPicker){if(i.value){if(e.hideOffsetDates&&!l.current)return!1;const y=wt(new Date(i.value),+e.weekStart);return e.weekPicker?Q(y[0],l.value):Q(i.value,l.value)}return!1}return!1},$e=l=>{for(let y=l-1;y>=0;y--){const M=ft(ke(new Date,{month:C.value(y+1),year:$.value(y+1)}),1);A(y,x(M),ee(M))}for(let y=l+1;y<=e.multiCalendars-1;y++){const M=et(ke(new Date,{month:C.value(y-1),year:$.value(y-1)}),1);A(y,x(M),ee(M))}},he=l=>Re(new Date,C.value(l),$.value(l)),Oe=(l,y,M=!0)=>{if(M?B(l,y):O(l,y),e.multiCalendars&&!e.multiCalendarsSolo&&$e(l),e.monthPicker)if(e.range){if(M){let L=s.value?s.value.slice():[];L.length===2&&(L=[]),L.length?oe(he(l),L[0])?L.unshift(he(l)):L.push(he(l)):L=[he(l)],s.value=L}}else s.value=he(l);n(),a("updateMonthYear",{instance:l,value:y,isMonth:M})},ie=l=>ue(l,f.value,v.value,I()),Ye=l=>{rt(l)&&rt(s.value)&&be(f.value)&&be(v.value)?(l[0]&&s.value[0]&&(s.value[0]=ue(l[0],f.value[0],v.value[0],I())),l[1]&&s.value[1]&&(s.value[1]=ue(l[1],f.value[1],v.value[1],I(!1)))):e.multiDates&&Array.isArray(s.value)?s.value[s.value.length-1]=ie(l):!e.range&&!kt(l)&&(s.value=ie(l)),a("timeUpdate")},tt=(l,y=!0,M=!1)=>{const L=y?l:f.value,ce=!y&&!M?l:v.value,Ee=M?l:h.value;if(e.range&&kt(s.value)&&be(L)&&be(ce)&&be(Ee)){const Ce=De=>ue(s.value[De],L[De],ce[De],Ee[De]),He=De=>_t(s.value[De],0);if(Q(s.value[0],s.value[1])&&(Qt(Ce(0),He(1))||Xt(Ce(1),He(0))))return}if(f.value=L,v.value=ce,h.value=Ee,s.value)if(e.multiDates){const Ce=Y();Ce&&Ye(Ce)}else Ye(s.value);else e.timePicker&&Ye(e.range?[new Date,new Date]:new Date);n()},nt=()=>{i.value=null},X=l=>mn(s.value,e.range)&&s.value[0]&&i.value?l?de(i.value,s.value[0]):oe(i.value,s.value[0]):!0,te=(l,y=!0)=>(e.range||e.weekPicker)&&kt(s.value)?e.hideOffsetDates&&!l.current?!1:Q(new Date(l.value),s.value[y?0:1]):e.range?Q(new Date(l.value),s.value&&Array.isArray(s.value)?y?s.value[0]||null:s.value[1]:null)&&(y?!oe(i.value||null,Array.isArray(s.value)?s.value[0]:null):!0)||Q(l.value,Array.isArray(s.value)?s.value[0]:null)&&X(y):!1,ne=(l,y)=>Array.isArray(e.internalModelValue)&&e.internalModelValue.length||e.weekPicker?!1:!l&&!r(y)&&!(!y.current&&e.hideOffsetDates)&&(e.range?!te(y)&&!te(y,!1):!0),Xe=(l,y,M)=>Array.isArray(e.internalModelValue)&&e.internalModelValue[0]&&e.internalModelValue.length===1?l?!1:M?de(e.internalModelValue[0],y.value):oe(e.internalModelValue[0],y.value):!1,Ie=(l=!1)=>{e.autoApply&&e.monthPicker&&a("autoApply",l)},Ze=(l,y)=>{const M=ke(new Date,{month:C.value(y),year:$.value(y)}),L=l<0?et(M,1):ft(M,1);A(y,x(L),ee(L)),e.multiCalendars&&!e.multiCalendarsSolo&&$e(y)};return{today:t,hours:f,minutes:v,seconds:h,month:C,year:$,monthYearSelect:Ie,isDisabled:N,updateTime:tt,setHoverDate:ye,getWeekNum:ze,selectDate:Te,rangeActive:k,isActiveDate:r,updateMonthYear:Oe,isHoverRangeEnd:qe,isAutoRangeInBetween:Je,isAutoRangeStart:Fe,clearHoverDate:nt,rangeActiveStartEnd:te,handleScroll:(l,y)=>{e.monthChangeOnScroll&&Ze(e.monthChangeOnScroll==="inverse"?-l.deltaY:l.deltaY,y)},getMarker:l=>e.markers.find(y=>Q(ve(new Date(l.value)),ve(new Date(y.date)))),handleArrow:(l,y)=>{e.monthChangeOnArrows&&Ze(l==="right"?-1:1,y)},selectCurrentDate:()=>{e.range?mn(s.value,e.range)&&(s.value&&s.value[0]?s.value=oe(new Date,s.value[0])?[new Date,s.value[0]]:[s.value[0],new Date]:s.value=[new Date]):a("update:internalModelValue",new Date),e.autoApply&&a("selectDate")},isHoverDate:ne,isHoverDateStartEnd:Xe,presetDateRange:l=>{l.length&&l.length<=2&&e.range&&(s.value=l.map(y=>new Date(y)),e.autoApply&&a("selectDate"))}}},El=["id","onKeydown"],Hl={key:0,class:"dp__preset_ranges"},Ul=["onClick"],Kl={key:1,class:"dp__now_wrap"},jl=Ae({props:Ve(ge({},dn),{internalModelValue:{type:[Date,Array],default:null},multiCalendars:{type:Number,default:0},previewFormat:{type:[String,Function],default:()=>null},filters:{type:Object,default:()=>({})},openOnTop:{type:Boolean,default:!1}}),emits:["update:internalModelValue","closePicker","selectDate","dpOpen","autoApply","timeUpdate","flow-step","updateMonthYear"],setup(e,{emit:a}){const n=e,t=it(),i=F(null),g=Sn({timePicker:!n.enableTimePicker,monthYearInput:!1,calendar:!1}),f=F([]),v=F(null),h=F(null),C=F(0),$=F(!1),A=F(0);Ue(()=>{var K;$.value=!0,(K=n.presetRanges)!=null&&K.length||Ze(),n.inline||Mt(()=>a("dpOpen"));const p=fe(h);if(p&&!n.textInput&&!n.inline&&p.focus({preventScroll:!0}),p){const R=j=>{j.stopImmediatePropagation(),j.stopPropagation()};p.addEventListener("pointerdown",R),p.addEventListener("mousedown",R)}document.addEventListener("resize",Ze)}),Lt(()=>{document.removeEventListener("resize",Ze)});const B=()=>{var p;((p=n.flow)==null?void 0:p.length)&&A.value!==-1&&(A.value+=1,a("flow-step",A.value),Kt())},O=()=>{A.value=-1},{updateTime:I,updateMonthYear:_,today:s,month:N,year:r,hours:k,minutes:D,seconds:U,isDisabled:S,isActiveDate:Y,selectDate:d,getWeekNum:w,setHoverDate:u,isHoverRangeEnd:E,isAutoRangeInBetween:H,isAutoRangeStart:se,rangeActive:Te,clearHoverDate:ze,rangeActiveStartEnd:ye,monthYearSelect:qe,handleScroll:Je,handleArrow:Fe,getMarker:$e,selectCurrentDate:he,isHoverDateStartEnd:Oe,isHoverDate:ie,presetDateRange:Ye}=Yl(n,a,B),tt=Ge(t,"calendar"),nt=Ge(t,"action"),X=Ge(t,"timePicker"),te=Ge(t,"monthYear"),ne=P(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Xe=P(()=>Oa(n.yearRange)),Ie=P(()=>Ia(n.locale,n.monthNameFormat)),Ze=()=>{const p=fe(i);p&&(C.value=p.getBoundingClientRect().width)},l=P(()=>p=>Aa(N.value(p),r.value(p),+n.weekStart,n.hideOffsetDates)),y=P(()=>n.multiCalendars>0&&n.range?[...Array(n.multiCalendars).keys()]:[0]),M=P(()=>p=>p===1),L=P(()=>n.monthPicker||n.timePicker),ce=P(()=>({dp__flex_display:n.multiCalendars>0})),Ee=P(()=>({dp__instance_calendar:n.multiCalendars>0})),Ce=P(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),He=P(()=>p=>vn(l,p)),De=P(()=>({locale:n.locale,weekNumName:n.weekNumName,weekStart:n.weekStart,weekNumbers:n.weekNumbers,enableTimePicker:n.enableTimePicker,disableMonthYearSelect:n.disableMonthYearSelect,monthPicker:n.monthPicker,timePicker:n.timePicker,range:n.range,filters:n.filters,minTime:n.minTime,maxTime:n.maxTime,minDate:n.minDate,maxDate:n.maxDate,customProps:n.customProps,calendarClassName:n.calendarClassName,specificMode:L.value,getWeekNum:w,multiCalendars:n.multiCalendars,months:Ie.value,years:Xe.value,multiCalendarsSolo:n.multiCalendarsSolo,modeHeight:n.modeHeight,internalModelValue:n.internalModelValue})),_e=P(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),vn=(p,K)=>p.value(K).map(R=>Ve(ge({},R),{days:R.days.map(j=>{const G=S(j.value),at=ie(G,j);return j.marker=$e(j),j.classData={dp__cell_offset:!j.current,dp__pointer:!G&&!(!j.current&&n.hideOffsetDates),dp__active_date:n.range?!1:Y(j),dp__date_hover:at,dp__date_hover_start:Oe(at,j,!0),dp__date_hover_end:Oe(at,j,!1),dp__range_between:(n.range||n.weekPicker)&&(n.multiCalendars>0?j.current:!0)&&!G&&!(!j.current&&n.hideOffsetDates)&&!Y(j)?Te(j):!1,dp__today:!n.noToday&&Q(j.value,s.value),dp__cell_disabled:G,dp__cell_auto_range:H(j),dp__cell_auto_range_start:se(j),dp__cell_auto_range_end:E(j),dp__range_start:n.multiCalendars>0?j.current&&ye(j):ye(j),dp__range_end:n.multiCalendars>0?j.current&&ye(j,!1):ye(j,!1),[n.calendarCellClassName]:!!n.calendarCellClassName},j})})),fn=p=>{p.stopPropagation(),p.preventDefault(),p.stopImmediatePropagation()},yn=()=>{n.escClose&&a("closePicker")},hn=p=>{p.stopImmediatePropagation(),p.preventDefault(),n.spaceConfirm&&a("selectDate")},$t=p=>{var K;(K=n.flow)!=null&&K.length&&(g[p]=!0,Object.keys(g).filter(R=>!g[R]).length||Kt())},Kt=()=>{n.flow[A.value]==="month"&&f.value[0]&&f.value[0].toggleMonthPicker(!0),n.flow[A.value]==="year"&&f.value&&f.value[0].toggleYearPicker(!0),n.flow[A.value]==="calendar"&&v.value&&v.value.toggleTimePicker(!1,!0),n.flow[A.value]==="time"&&v.value&&v.value.toggleTimePicker(!0,!0);const p=n.flow[A.value];(p==="hours"||p==="minutes"||p==="seconds")&&v.value&&v.value.toggleTimePicker(!0,!0,p)};return(p,K)=>(m(),b("div",{id:p.uid?`dp-menu-${p.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:h,role:"dialog","aria-label":"Datepicker menu",class:J(o(_e)),onMouseleave:K[11]||(K[11]=(...R)=>o(ze)&&o(ze)(...R)),onClick:fn,onKeydown:[z(yn,["esc"]),z(hn,["space"]),K[12]||(K[12]=z(R=>o(Fe)("left",0),["left"])),K[13]||(K[13]=z(R=>o(Fe)("right",0),["right"]))]},[(p.disabled||p.readonly)&&p.inline?(m(),b("div",{key:0,class:J(o(Ce))},null,2)):c("",!0),p.inline?c("",!0):(m(),b("div",{key:1,class:J(o(ne))},null,2)),T("div",{class:J(p.presetRanges.length?"dp__menu_content_wrapper":null)},[p.presetRanges.length?(m(),b("div",Hl,[(m(!0),b(Z,null,le(p.presetRanges,(R,j)=>(m(),b("div",{key:j,class:"dp__preset_range",onClick:G=>o(Ye)(R.range)},ae(R.label),9,Ul))),128))])):c("",!0),T("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:i,role:"document"},[T("div",{class:J(o(ce))},[(m(!0),b(Z,null,le(o(y),(R,j)=>(m(),b("div",{key:R,class:J(o(Ee))},[!p.disableMonthYearSelect&&!p.timePicker?(m(),W(Ct(p.monthYearComponent?p.monthYearComponent:Fl),we({key:0,ref_for:!0,ref:G=>{G&&(f.value[j]=G)}},{months:o(Ie),years:o(Xe),filters:e.filters,monthPicker:p.monthPicker,month:o(N)(R),year:o(r)(R),customProps:p.customProps,multiCalendars:e.multiCalendars,multiCalendarsSolo:p.multiCalendarsSolo,instance:R,minDate:p.minDate,maxDate:p.maxDate,preventMinMaxNavigation:p.preventMinMaxNavigation,internalModelValue:e.internalModelValue,range:p.range,reverseYears:p.reverseYears},{onMount:K[0]||(K[0]=G=>$t("monthYearInput")),onResetFlow:O,"onUpdate:month":G=>o(_)(R,G,!0),"onUpdate:year":G=>o(_)(R,G,!1),onMonthYearSelect:o(qe)}),re({_:2},[le(o(te),(G,at)=>({name:G,fn:q(Dt=>[V(p.$slots,G,Ke(je(Dt)))])}))]),1040,["onUpdate:month","onUpdate:year","onMonthYearSelect"])):c("",!0),Me(Qa,we(o(De),{"flow-step":A.value,"onUpdate:flow-step":K[1]||(K[1]=G=>A.value=G),instance:R,"mapped-dates":o(He)(R),month:o(N)(R),year:o(r)(R),"month-year-component":p.monthYearComponent,onSelectDate:G=>o(d)(G,!o(M)(R)),onSetHoverDate:K[2]||(K[2]=G=>o(u)(G)),onHandleScroll:G=>o(Je)(G,R),onMount:K[3]||(K[3]=G=>$t("calendar")),onResetFlow:O}),re({_:2},[le(o(tt),(G,at)=>({name:G,fn:q(Dt=>[V(p.$slots,G,Ke(je(ge({},Dt))))])}))]),1040,["flow-step","instance","mapped-dates","month","year","month-year-component","onSelectDate","onHandleScroll"])],2))),128))],2),T("div",null,[p.enableTimePicker&&!p.monthPicker&&!p.weekPicker?(m(),W(Ct(p.timePickerComponent?p.timePickerComponent:Cl),we({key:0,ref_key:"timePickerRef",ref:v},{is24:p.is24,hoursIncrement:p.hoursIncrement,minutesIncrement:p.minutesIncrement,hoursGridIncrement:p.hoursGridIncrement,secondsIncrement:p.secondsIncrement,minutesGridIncrement:p.minutesGridIncrement,secondsGridIncrement:p.secondsGridIncrement,noHoursOverlay:p.noHoursOverlay,noMinutesOverlay:p.noMinutesOverlay,noSecondsOverlay:p.noSecondsOverlay,range:p.range,filters:e.filters,timePicker:p.timePicker,hours:o(k),minutes:o(D),seconds:o(U),customProps:p.customProps,enableSeconds:p.enableSeconds,fixedStart:p.fixedStart,fixedEnd:p.fixedEnd},{onMount:K[4]||(K[4]=R=>$t("timePicker")),"onUpdate:hours":K[5]||(K[5]=R=>o(I)(R)),"onUpdate:minutes":K[6]||(K[6]=R=>o(I)(R,!1)),"onUpdate:seconds":K[7]||(K[7]=R=>o(I)(R,!1,!0)),onResetFlow:O}),re({_:2},[le(o(X),(R,j)=>({name:R,fn:q(G=>[V(p.$slots,R,Ke(je(G)))])}))]),1040)):c("",!0)])],512),p.showNowButton?(m(),b("div",Kl,[p.$slots["now-button"]?V(p.$slots,"now-button",{key:0,selectCurrentDate:o(he)}):c("",!0),p.$slots["now-button"]?c("",!0):(m(),b("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:K[8]||(K[8]=(...R)=>o(he)&&o(he)(...R))},ae(p.nowButtonLabel),1))])):c("",!0)],2),!p.autoApply||p.keepActionRow?(m(),W(Ct(p.actionRowComponent?p.actionRowComponent:il),we({key:2},{calendarWidth:C.value,selectText:p.selectText,cancelText:p.cancelText,internalModelValue:e.internalModelValue,range:p.range,previewFormat:e.previewFormat,inline:p.inline,monthPicker:p.monthPicker,timePicker:p.timePicker,customProps:p.customProps,multiCalendars:e.multiCalendars,menuMount:$.value,maxTime:p.maxTime,minTime:p.minTime,enableTimePicker:p.enableTimePicker,minDate:p.minDate,maxDate:p.maxDate,multiDates:p.multiDates},{onClosePicker:K[9]||(K[9]=R=>p.$emit("closePicker")),onSelectDate:K[10]||(K[10]=R=>p.$emit("selectDate"))}),re({_:2},[le(o(nt),(R,j)=>({name:R,fn:q(G=>[V(p.$slots,R,Ke(je(ge({},G))))])}))]),1040)):c("",!0)],42,El))}});var bt=(e=>(e.center="center",e.left="left",e.right="right",e))(bt||{});const Wl=(e,a,n,t,i,g)=>{const f=F({top:"0",left:"0",transform:"none"}),v=F(!1),h=10,C=O=>{const I=O.getBoundingClientRect();return{left:I.left+window.scrollX,top:I.top+window.scrollY}},$=O=>{let I=0,_=0;for(;O&&!isNaN(O.offsetLeft)&&!isNaN(O.offsetTop);)I+=O.offsetLeft-O.scrollLeft,_+=O.offsetTop-O.scrollTop,O=O.offsetParent;return{top:_,left:I}},A=(O=!0)=>{const I=fe(i);if(a&&typeof a!="boolean")f.value=a(I);else if(I){const{left:_,width:s,height:N}=I.getBoundingClientRect(),{top:r}=a?$(I):C(I),k={top:`${N+r+h}px`,left:"",transform:"none"};e===bt.left&&(k.left=`${_}px`),e===bt.right&&(k.left=`${_+s}px`,k.transform="translateX(-100%)"),e===bt.center&&(k.left=`${_+s/2}px`,k.transform="translateX(-50%)"),f.value=k,O&&n&&B()}},B=()=>{const O=fe(i);if(O&&n){const{height:I,top:_}=O.getBoundingClientRect(),{top:s}=a?$(O):C(O),N=window.innerHeight-_-I,r=fe(t);if(r){const{height:k}=r.getBoundingClientRect(),D=k+I;D>_&&D>N?_<N&&(A(!1),v.value=!1):D>N?(f.value.top=`${s-k-h}px`,v.value=!0):(A(!1),v.value=!1)}}g("recalculatePosition")};return{openOnTop:v,menuPosition:f,setMenuPosition:A,recalculatePosition:B}},Ll=(e,a,n,t,i,g,f,v,h,C,$,A,B,O)=>{const I=F(""),_=F();xe(_,()=>{O("internalModelChange",_.value)});const s=r=>{let k=null;r?a?el(r)&&"hours"in r[0]&&"minutes"in r[0]?k=[ue(null,+r[0].hours,+r[0].minutes,+r[0].seconds),ue(null,+r[1].hours,+r[1].minutes,+r[1].seconds)]:xa(r)&&(k=ue(null,+r.hours,+r.minutes,+r.seconds)):n?tl(r)&&"month"in r[0]&&"year"in r[0]?k=[Re(null,+r[0].month,+r[0].year),r[1]?Re(null,+r[1].month,+r[1].year):null]:nl(r)&&"month"in r&&"year"in r&&(k=Re(null,+r.month,+r.year)):C&&Array.isArray(r)?k=r.map(D=>new Date(D)):A&&Array.isArray(r)?k=[new Date(r[0]),new Date(r[1])]:t?al(r,i)&&(k=[new Date(r[0]),r[1]?new Date(r[1]):null]):ol(r)&&(k=new Date(r)):k=null,Ot(k)?(_.value=k,N()):(_.value=null,I.value="")},N=()=>{if(!_.value)I.value="";else if(!e||typeof e=="string"){const r=ln(e,g,v,n,a,A,f);Array.isArray(_.value)&&C?I.value=_.value.map(k=>gt(k,r,h==null?void 0:h.value)).join("; "):I.value=gt(_.value,r,h==null?void 0:h.value,B.rangeSeparator)}else a?I.value=e(Vt(_.value)):n?I.value=e(on(_.value)):I.value=e(_.value)};return{parseExternalModelValue:s,formatInputValue:N,internalModelValue:_,inputValue:I,emitModelValue:()=>{if(n)O("update:modelValue",on(_.value));else if(a)O("update:modelValue",Vt(_.value));else if(A)O("update:modelValue",_.value);else{_.value&&t&&i&&_.value.length===1&&_.value.push(null);const r=$?Array.isArray(_.value)?_.value.map(k=>k&&ve(k)):ve(_.value):_.value;O("update:modelValue",r)}N()},checkBeforeEmit:()=>_.value?t?i?_.value.length>=1:_.value.length===2:!!_.value:!1}},Gl=typeof window<"u"?window:void 0,Ht=()=>{},zl=e=>Mn()?(Cn(e),!0):!1,ql=(e,a,n,t)=>{if(!e)return Ht;let i=Ht;const g=xe(()=>o(e),v=>{i(),v&&(v.addEventListener(a,n,t),i=()=>{v.removeEventListener(a,n,t),i=Ht})},{immediate:!0,flush:"post"}),f=()=>{g(),i()};return zl(f),f},Jl=(e,a,n,t={})=>{const{window:i=Gl,event:g="pointerdown"}=t;return i?ql(i,g,f=>{const v=fe(e),h=fe(a);!v||!h||v===f.target||f.composedPath().includes(v)||f.composedPath().includes(h)||n(f)},{passive:!0}):void 0},Xl=Ae({props:Ve(ge({},dn),{name:{type:String,default:null},multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object],default:null},position:{type:String,default:"center"},placeholder:{type:String,default:null},dark:{type:Boolean,default:!1},required:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},previewFormat:{type:[String,Function],default:()=>null},inputClassName:{type:String,default:null},hideInputIcon:{type:Boolean,default:!1},state:{type:Boolean,default:null},clearable:{type:Boolean,default:!0},closeOnScroll:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},inlineWithInput:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},textInputOptions:{type:Object,default:()=>({})},teleport:{type:String,default:"body"},altPosition:{type:[Boolean,Function],default:!1},partialRange:{type:Boolean,default:!0},transitions:{type:Boolean,default:!0},openMenuOnFocus:{type:Boolean,default:!0},formatLocale:{type:Object,default:null},autocomplete:{type:String,default:null},utc:{type:Boolean,default:!1}}),emits:["update:modelValue","textSubmit","closed","cleared","open","focus","blur","internalModelChange","recalculatePosition","flow-step","updateMonthYear"],setup(e,{expose:a,emit:n}){const t=e,i=it(),g=F(!1),f=dt(t,"modelValue"),v=F(null),h=F(null),C=F(null);ct("autoApply",t.autoApply);const $=P(()=>t.formatLocale);ct("formatLocale",$),ct("textInput",dt(t,"textInput")),Ue(()=>{k(t.modelValue),t.inline||(window.addEventListener("scroll",ye),window.addEventListener("resize",qe)),t.inline&&(g.value=!0)}),Lt(()=>{t.inline||(window.removeEventListener("scroll",ye),window.removeEventListener("resize",qe))});const A=Ge(i,"all"),B=Ge(i,"input");xe(f,()=>{k(f.value)},{deep:!0});const{openOnTop:O,menuPosition:I,setMenuPosition:_,recalculatePosition:s}=Wl(t.position,t.altPosition,t.autoPosition,v,h,n),{internalModelValue:N,inputValue:r,parseExternalModelValue:k,emitModelValue:D,checkBeforeEmit:U,formatInputValue:S}=Ll(t.format,t.timePicker,t.monthPicker,t.range,t.partialRange,t.is24,t.enableTimePicker,t.enableSeconds,$,t.multiDates,t.utc,t.weekPicker,t.textInputOptions,n),Y=P(()=>({dp__main:!0,dp__theme_dark:t.dark,dp__theme_light:!t.dark,dp__flex_display:t.inline,dp__flex_display_with_input:t.inlineWithInput})),d=P(()=>pn(t.format)?t.format:ln(null,t.is24,t.enableSeconds,t.monthPicker,t.timePicker,t.weekPicker,t.enableTimePicker)),w=P(()=>t.previewFormat?t.previewFormat:pn(d.value)?d.value:t.format),u=P(()=>typeof t.transitions=="boolean"?t.transitions?un({}):!1:un(t.transitions));ct("transitions",u);const E=P(()=>t.dark?"dp__theme_dark":"dp__theme_light"),H=P(()=>Object.assign(Ba(),t.textInputOptions)),se=P(()=>Na(t.filters)),Te=P(()=>{const X=te=>{const ne={hours:me(new Date),minutes:pe(new Date),seconds:Pe(new Date)};return Object.assign(ne,te)};return t.range?t.startTime&&Array.isArray(t.startTime)?[X(t.startTime[0]),X(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?X(t.startTime):null}),ze=P(()=>t.multiCalendars===null?0:typeof t.multiCalendars=="boolean"?t.multiCalendars?2:0:+t.multiCalendars>=2?+t.multiCalendars:2),ye=()=>{g.value&&(t.closeOnScroll?ie():t.autoPosition?_():window.removeEventListener("scroll",ye))},qe=()=>{g.value&&_()},Je=()=>{!t.disabled&&!t.readonly&&(_(),g.value=!0,g.value||Oe(),g.value&&(n("open"),n("focus")),k(t.modelValue))},Fe=()=>{r.value="",Oe(),n("update:modelValue",null),n("cleared"),ie()},$e=()=>{U()&&(D(),ie())},he=(X=!1)=>{t.autoApply&&(t.enableTimePicker?Yt(N.value,t.maxTime,t.minTime):!0)&&(D(),t.closeOnAutoApply&&!X&&ie())},Oe=()=>{N.value=null},ie=()=>{t.inline||(g.value&&(g.value=!1,n("closed"),n("blur"),r.value&&k(f.value)),Oe(),h.value&&h.value.unFocus(),nt())},Ye=(X,te)=>{if(!X){N.value=null;return}N.value=X,te&&($e(),n("textSubmit"))},tt=()=>{t.autoApply&&Yt(N.value,t.maxTime,t.minTime)&&D()},nt=()=>{C.value&&C.value.focus({preventScroll:!0})};return Jl(v,h,ie),a({closeMenu:ie,selectDate:$e,clearValue:Fe,openMenu:Je,onScroll:ye,formatInputValue:S}),(X,te)=>(m(),b("div",{class:J(o(Y))},[Me(Ka,we({ref_key:"inputRef",ref:h},{placeholder:e.placeholder,hideInputIcon:e.hideInputIcon,readonly:X.readonly,disabled:X.disabled,inputClassName:e.inputClassName,clearable:e.clearable,state:e.state,inline:X.inline,inlineWithInput:e.inlineWithInput,textInput:X.textInput,textInputOptions:o(H),range:X.range,isMenuOpen:g.value,pattern:o(d),autoApply:X.autoApply,uid:X.uid,openMenuOnFocus:e.openMenuOnFocus,required:e.required,name:e.name,autocomplete:e.autocomplete},{"input-value":o(r),"onUpdate:input-value":te[0]||(te[0]=ne=>Gt(r)?r.value=ne:null),onClear:Fe,onOpen:Je,onSetInputDate:Ye,onSetEmptyDate:o(D),onSelectDate:$e,onClose:ie}),re({_:2},[le(o(B),(ne,Xe)=>({name:ne,fn:q(Ie=>[V(X.$slots,ne,Ke(je(Ie)))])}))]),1040,["input-value","onSetEmptyDate"]),T("span",{tabindex:"-1",ref_key:"focusRef",ref:C},null,512),g.value?(m(),W(_n,{key:0,to:e.teleport,disabled:X.inline},[g.value?(m(),W(jl,we({key:0,ref_key:"dpMenuRef",ref:v,class:o(E),style:o(I)},Ve(ge({},o(ja)(X.$props)),{multiCalendars:o(ze),previewFormat:o(w),filters:o(se),openOnTop:o(O),startTime:o(Te)}),{internalModelValue:o(N),"onUpdate:internalModelValue":te[1]||(te[1]=ne=>Gt(N)?N.value=ne:null),onClosePicker:ie,onSelectDate:$e,onDpOpen:o(s),onAutoApply:he,onTimeUpdate:tt,onFlowStep:te[2]||(te[2]=ne=>X.$emit("flow-step",ne)),onUpdateMonthYear:te[3]||(te[3]=ne=>X.$emit("updateMonthYear",ne))}),re({_:2},[le(o(A),(ne,Xe)=>({name:ne,fn:q(Ie=>[V(X.$slots,ne,Ke(je(ge({},Ie))))])}))]),1040,["class","style","internalModelValue","onDpOpen"])):c("",!0)],8,["to","disabled"])):c("",!0)],2))}});var Ut=(()=>{const e=Xl;return e.install=a=>{a.component("Vue3DatePicker",e)},e})(),Zl=Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"}));Object.entries(Zl).forEach(([e,a])=>{e!=="default"&&(Ut[e]=a)});export{Ut as default};
